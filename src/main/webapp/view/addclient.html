<!DOCTYPE html>
<!--suppress ALL-->
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="UTF-8">
    <title>添加客户</title>
    <link rel="stylesheet" href="/layui/css/layui.css" media="all">
    <script src="/js/jquery-1.12.3.min.js"></script>
    <script src="/layui/layui.js"></script>
</head>
<body>
<h1><center>新增客户</center></h1>
<div class="layui-inline" style="left: 1000px;">
    <a href="javascript:window.opener=null;window.open('','_self');window.close();" style="color: black" class="layui-btn layui-icon layui-icon-return" ><font color="black">返回</font></a>
    <a href="addclient.html" id="flush" style="color: black"  class="layui-btn layui-icon layui-icon-refresh"><font color="black">刷新</font></a>
</div>

<div class="layui-form-item"
     style="border:1px solid ;background-color: #44aff0;height:35px;font-size: 20px;border-left: none;border-right: none;">
    客户信息
</div>

<form class="layui-form layui-form-pane">
    <div class="layui-inline">
    <div class="layui-form-item">
        <label class="layui-form-label"><font color="red">*</font> 客户名称</label>
        <div class="layui-input-inline" style="width:400px;">
            <input name="cliname" class="layui-input" type="text" style="width:400px;" placeholder="请输入姓名" autocomplete="off"
                   required    lay-verify="cliname">
        </div>
    </div>
    </div>

    <div class="layui-inline">
    <div class="layui-form-item">
        <label class="layui-form-label"><font color="red">*</font>拼音</label>
        <div class="layui-input-inline" style="width:400px;">
            <input name="clipingyin"  class="layui-input" type="text" style="width:400px;"
                   required    lay-verify="clipingyin"      autocomplete="off">
        </div>
    </div>
    </div>

    <div class="layui-inline">
    <div class="layui-form-item">
        <label class="layui-form-label">分类</label>
        <div class="layui-input-inline" style="width:400px;">
            <select name="clitype" style="width:400px;">
                <option value="0">请选择</option>
                <option value="VIP">VIP</option>
                <option value="SVIP">SVIP</option>
                <option value="普通客户">普通客户</option>
            </select>
        </div>
    </div>
    </div>
    <div class="layui-inline">
    <div class="layui-form-item">
        <label class="layui-form-label"><font color="red">*</font>客户来源</label>
        <div class="layui-input-inline" style="width:400px;">
            <select required    lay-verify="clifrom"  name="clifrom" style="width:400px;">
                <option value="0">请选择</option>
                <option value="老客户">老客户</option>
                <option value="代理商">代理商</option>
                <option value="互联网">互联网</option>
                <option value="独立开发">独立开发</option>
                <option value="客户介绍">客户介绍</option>
                <option value="合作伙伴">合作伙伴</option>
                <option value="促销活动">促销活动</option>
                <option value="媒体宣传">媒体宣传</option>
                <option value="电话访问">电话访问</option>
                <option value="客户来电">客户来电</option>
                <option value="二次销售">二次销售</option>
                <option value="公开招标">公开招标</option>
                <option value="研讨会和展会">研讨会和展会</option>
                <option value="其他">其他</option>
            </select>
        </div>
    </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label"><font color="red">*</font>所属行业</label>
            <div class="layui-input-inline" style="width:400px;">
                <select required    lay-verify="cliindustry" name="cliindustry" style="width:400px;">
                    <option value="0">请选择</option>
                    <option value="IT|互联网|通信|电子">IT|互联网|通信|电子</option>
                    <option value="金融|银行|保险">金融|银行|保险</option>
                    <option value="房产|建筑设施|物业">房产|建筑设施|物业</option>
                    <option value="广告|传媒|印刷出版">广告|传媒|印刷出版</option>
                    <option value="销费零售|贸易|交通物流">销费零售|贸易|交通物流</option>
                    <option value="加工制造|仪表设备">加工制造|仪表设备</option>
                    <option value="管理咨询|教育科研|中介服务">管理咨询|教育科研|中介服务</option>
                    <option value="医药生物|医疗保健">医药生物|医疗保健</option>
                    <option value="酒店旅游">酒店旅游</option>
                    <option value="能源矿产|石油化工">能源矿产|石油化工</option>
                    <option value="政府|非盈利机构|科研">政府|非盈利机构|科研</option>
                    <option value="其他">其他</option>
                </select>
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">客户网址</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="cliurl"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label"><font color="red">*</font>国家/地区</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="clicountry"  class="layui-input" type="text" style="width:400px;"
                       required    lay-verify="country"      autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label"><font color="red">*</font>城市</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="clicity"  class="layui-input" type="text" style="width:400px;"
                       required    lay-verify="city"       autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">详细地址</label>
        <div class="layui-input-block">
            <input name="cliaddress"  class="layui-input" type="text"  autocomplete="off">
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">邮政编码</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="clipostlcode"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">联系人</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="person"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label"><font color="red">*</font>联系人部门</label>
            <div class="layui-input-inline" style="width:400px;">
                <select name="persondept" style="width:400px;">
                    <option value="0">请选择</option>
                    <option value="销售部">销售部</option>
                    <option value="售后部">售后部</option>
                    <option value="财务部">财务部</option>
                    <option value="人事部">人事部</option>
                </select>
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">职务</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="personposition"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">办公电话</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="perofficenum"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">移动电话</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="pernum"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">邮件/QQ</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="perqq"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">法人代表</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="perparent"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">注册资本</label>
        <div class="layui-input-block">
            <input name="registeredcapital"  class="layui-input" type="text"
                   required   lay-verify="registeredcapital"     autocomplete="off">
        </div>
    </div>

    <div class="layui-form-item layui-form-text">
        <label class="layui-form-label">附加说明</label>
        <div class="layui-input-block">
            <textarea name="append" class="layui-textarea" placeholder="请输入内容"></textarea>
        </div>
    </div>

    <br>
    <div class="layui-form-item"
         style="border:1px solid ;background-color: #44aff0;height:35px;font-size: 20px;border-left: none;border-right: none;">
        财务信息
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">银行账号</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="bankaccount"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">开户名称</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="bankname"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">开户银行</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="bank"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">银行地址</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="bankaddress"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">税号</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="taxnum"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <label class="layui-form-label">预留电话</label>
            <div class="layui-input-inline" style="width:400px;">
                <input name="bankphone"  class="layui-input" type="text" style="width:400px;"  autocomplete="off">
            </div>
        </div>
    </div>

    <div class="layui-inline">
    <div class="layui-form-item">
        <div class="layui-input-block" style="width: 200px;">
            <button class="layui-btn layui-btn-normal layui-btn-radius" style="width: 200px;"  lay-submit lay-filter="sub">确定</button>
        </div>
    </div>
    </div>

    <div class="layui-inline">
        <div class="layui-form-item">
            <div class="layui-input-block" style="width: 200px;">
                <a href="javascript:window.opener=null;window.open('','_self');window.close();" style="width: 200px;"  style="color: black" class="layui-btn layui-btn-primary layui-btn-radius" ><font color="black">返回</font></a>
            </div>
        </div>
    </div>


</form>

<script>
    layui.use(['form','jquery','layer'], function () {
        var form = layui.form;
        var $=layui.jquery;
        var layer=layui.layer;

        //table
        form.on('submit(sub)', function(data){
           var client=data.field;
            $.ajax({
                type: "POST"
                , url: '/clientinfo/addclient.do'
                , data: client
                , success: function (res) {
                    if (res == true) {
                        layer.msg("添加成功", {icon: 1});
                        window.close(document);
                    }else{
                        layer.msg("添加失败，请重新添加", {icon: 1});
                        window.close(document);
                    }
                }
            });
            return false;
        });

        form.verify({
            clifrom:function(value,item){
                if(value==0){
                    return '请选择客户来源';
                }
            },cliindustry:function(value,item){
                if(value==0){
                    return '请选择客户所属行业';
                }
            },
            cliname: function(value, item){ //value：表单的值、item：表单的DOM对象
                if(!new RegExp("^[a-zA-Z0-9_\u4e00-\u9fa5\\s·]+$").test(value)){
                    return '客户名称不能有特殊字符';
                }
                if(/(^\_)|(\__)|(\_+$)/.test(value)){
                    return '客户名称首尾不能出现下划线\'_\'';
                }
                if(/^\d+\d+\d$/.test(value)){
                    return '客户名称不能全为数字';
                }
                if(!/^[^ ]+$/.test(value)){
                    return '客户名称不能包含空格';
                }
            }
            //我们既支持上述函数式的方式，也支持下述数组的形式
            //数组的两个值分别代表：[正则匹配、匹配不符时的提示文字]
            ,country: [
                /^[\S]{2,15}$/
                ,'请输入正确的国家名称'
            ],
            city:[
                /^[\S]{2,15}$/
                ,'请输入正确的城市名称'
            ],clipingyin:[
                /^[\S]{2,15}$/
                ,'请输入正确的拼音'
            ],registeredcapital:[
                /\d+/
                ,'请输入正确的金额格式'
            ]
        });


    });


</script>

</body>
</html>